import{L as C,x as g,A as $,P as l,R as u,S as t,c as o,a6 as b,J as k,Z as V,Q as p,W as h,U as v,a0 as i,a1 as N,a4 as I,T as S}from"./index-f2881c5d.js";import{V as T}from"./VContainer-fa2d8934.js";import{a as c,V as d}from"./VRow-a5494304.js";const U={key:1},P={__name:"OrdersView",setup(j){const B=C(),s=g(""),r=g([]),w=g(!0),{apiAuth:x}=N(),y=async()=>{var f,n;try{s.value.trim();const e=await x.get(`/url/getUserBookmarks/${s.value}`);if(Array.isArray(e.data.bookmarks)&&(r.value=e.data.bookmarks,r.value.length>0))for(const a of r.value){const A=a.categories||[];console.log(`用戶 ${a.userId} 的分類和書籤:`);for(const _ of A)if(console.log(`分類名: ${_.title}`),Array.isArray(_.urls))for(const m of _.urls)console.log(`書籤名: ${m.title}`),console.log(`鏈接: ${m.url}`),console.log(`描述: ${m.description}`)}}catch(e){console.error(e);const a=((n=(f=e==null?void 0:e.response)==null?void 0:f.data)==null?void 0:n.message)||"發生錯誤，請稍後再試";B({text:a,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}finally{w.value=!1}};return $(async()=>{await y()}),(f,n)=>(l(),u(T,null,{default:t(()=>[o(d,{align:"center"},{default:t(()=>[o(c,null,{default:t(()=>[o(b,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=e=>s.value=e),label:"輸入用戶 ID"},null,8,["modelValue"])]),_:1}),o(c,null,{default:t(()=>[o(k,{onClick:y,color:"primary"},{default:t(()=>[V("搜尋")]),_:1})]),_:1})]),_:1}),r.value.length>0?(l(),u(d,{key:0,justify:"start"},{default:t(()=>[(l(!0),p(v,null,h(r.value,e=>(l(),u(c,{key:e._id,cols:"3"},{default:t(()=>[o(d,null,{default:t(()=>[o(c,null,{default:t(()=>[I("h3",null,i(e.title),1)]),_:2},1024)]),_:2},1024),e.urls.length>0?(l(),u(d,{key:0,justify:"center"},{default:t(()=>[(l(!0),p(v,null,h(e.urls,a=>(l(),u(c,{key:a._id,cols:"12"},{default:t(()=>[o(k,{href:a.url,target:"_blank",width:"35vh"},{default:t(()=>[V(i(a.title)+" || "+i(a.description),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)):S("",!0)]),_:2},1024))),128))]),_:1})):(l(),p("p",U,"沒有找到用戶 "+i(s.value)+" 的書籤和分類。",1))]),_:1}))}};export{P as default};
